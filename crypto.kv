#: import ListItemButton kivy.uix.listview.ListItemButton
#: import ListAdapter   kivy.adapters.listadapter.ListAdapter
#:set OpenSansNormal "./Fonts/OpenSans-Regular"
#: import main MainUi
#:set OpenSansBold "./Fonts/OpenSans-Bold"
#:set OpenSansItalic "./Fonts/OpenSans-Italic"
BoxLayout:
    padding:"15dp"
    canvas.before:

        Color:
            rgb:[0.9,0.9,0.9]
        Rectangle:
            size:self.size
            pos:self.pos

    Dashboard:
        padding:"15dp"

        canvas.before:
            Color:
                rgb:[1,1,1]
            Rectangle:
                size:self.size
                pos:self.pos


<Widget>:
    font_name:OpenSansNormal
    font_hinting:"light"
    color:(0.5,0.5,0.5,1)
<TextInput>
    background_color:(0.95,0.95,0.95,1)
    background_normal:"white"
<Button>:
    background_color:(0.95,0.95,0.95,1)
    background_normal:"white"


<Dashboard>:
    orientation:"vertical"
    Image:
        source:"./Images/votebutton.png"
    Label:
        text:"Voting Booth"
        font_name:OpenSansBold
        font_size:"30dp"
        size_hint_y:"0.25"
    Label:
        text:""
        size_hint_y:"0.50"

    BoxLayout:
        size_hint_y:"0.25"
        orientation:"horizontal"
        canvas.before:
            Rectangle:
                source:"./Images/Vote3.png"
                size:(300,200)
                pos:(-1,-1)

        BoxLayout:
            size_hint_x:0.70
        BoxLayout:
            orientation:"vertical"
            size_hint_x:"0.30"
            spacing:5

            Button:
                size_hint_y:None
                height:"40dp"
                padding:(5,5)
                text:"Admin Panel"
                on_press:root.Show_Login_Panel()

            Button:
                size_hint_y:None
                height:"40dp"
                padding:(5,5)
                text:"Add Vote"
                on_press:root.Show_Add_Vote()

<LoginScreen>:
    txtusername:txtusername
    txtpassword:txtpassword
    btnLogin:btnLogin
    size_hint_x:None
    size_hint_y:None
    height:"400dp"
    width:"300dp"
    canvas.before:
        Color:
            rgba:[0,0,0,0]
        Rectangle:
            size:self.size
            pos:self.pos
    BoxLayout:
        orientation:"vertical"
        spacing:5
        padding:"10dp"
        canvas.before:
            Color:
                rgba:[1,1,1,1]
            RoundedRectangle:
                radius:[30,30,30,30]
                pos:self.pos
                size:self.size
        Label:
            canvas.before:
                Color:
                    rgba:[0.98,0.98,0.98,1]
                RoundedRectangle:
                    radius:[30,]
                    pos:self.pos
                    size:self.size
            border:
            text:"Login"
            font_size:"40dp"
            size_hint_y:None
            height:"50dp"
        Label:
            text:"Username"
            font_size:"15dp"
            height:"20dp"
            size_hint_y:None
        TextInput:
            height:"30dp"
            size_hint_y:None
            id:txtusername
        Label:
            text:"Password"
            font_size:"15dp"
            size_hint_y:None
            height:"20dp"
        TextInput:
            height:"30dp"
            password:True
            size_hint_y:None
            id:txtpassword
        Button:
            id:btnLogin
            text:"Login"
            height:"30dp"
            size_hint_x:None
            size_hint_y:None
            on_press:root.Login()
        Label:
            text:""
<AddVote>:
    orientation:"vertical"
    description_output:description_output
    adhar_no:adhar_no
    candidatelist:candidate_list
    btnaddvote:btnaddvote
    btngivevote:btngivevote
    BoxLayout:
        size_hint_y:"0.25"
        Label:
            text:"Add Vote"
            font_name:OpenSansBold
            font_size:"32dp"
            halign:"left"
    BoxLayout:
        orientation:"vertical"
        padding:"0dp"
        valign:"top"
        spacing:"10dp"

        BoxLayout:
            height:"40dp"
            size_hint_y:None
            Label:
                text:"Adhar No :"
                height:"30dp"
                size_hint_y:None
                halign:"left"
            TextInput:
                id:adhar_no
                on_text_validate:root.CheckAuthentication()
                text:""
                height:"30dp"
                multiline:False
                size_hint_y:None
                halign:"left"

        BoxLayout:

            height:"40dp"
            size_hint_y:None

            Label:
                text:"Fingure Printdata"
                height:"30dp"
                size_hint_y:None
                halign:"left"
            TextInput:
                height:"30dp"
                multiline:False
                readonly:True
                size_hint_y:None
                halign:"left"
        BoxLayout:
            height:"40dp"
            size_hint_y:None
            orientation:"horizontal"
            Label:
                id:description_output
                size_hint_x:"0.75"
            Button:
                size_hint_x:None
                text:"Add"
                size_hint_y:None
                height:"35dp"
                halign:"right"
                on_press:root.CheckAuthentication()
        BoxLayout:
            height:"40dp"
            size_hint_y:None
            Label:
                size_hint_x:"0.75"
            Button:
                id:btnaddvote
                height:"30dp"
                width:"150dp"
                disabled:True
                text:"Show Candidates"
                size_hint_y:None
                size_hint_x:None
                on_press:root.ShowCandidates()

        BoxLayout:
            orientation:"vertical"
            ListView:
                id:candidate_list

                background_normal:"white"
                item_strings:["Click on Show Candidates","To Get List"]
                adapter:
                    ListAdapter(data=[],cls=main.CandidateOption,args_converter=root.args_converter)
            Button:
                id:btngivevote
                size_hint_y:None
                size_hint_x:None
                width:"100dp"
                height:"30dp"
                halign:"right"
                text:"Vote"
                disabled:True
                on_press:root.GiveVote()

    BoxLayout:
        size_hint_y:"0.25"
        Button:
            text:"Back"
            size_hint_y:None
            height:"40dp"
            size_hint_x:None
            width:"100dp"
            on_press:root.Show_Dashboard()
<CandidateOption>:
    spacing:"10dp"
    size_hint_y:None
    height:"50dp"
    border:10
    canvas.before:
        Color:
            rgb:[0.9,0.9,0.9]

        Rectangle:
            size:self.size
            pos:self.pos
    orientation:"horizontal"
    height:"30dp"
    spacing:"5dp"
    ListItemButton:
        active:root.is_selected
        deselected_color:[0.95,0.95,0.95,1]
        selected_color:[0.9,0.9,0.9,1]
        size_hint_x:None
        value:root.candidate[0]
        width:"15dp"
    Label:
        text:"{}".format(root.candidate[0])
    Label:
        text:"{}".format(root.candidate[1])
    Label:
        text:"{}".format(root.candidate[2])

<LoadingScreen@BoxLayout>:

    height:"200dp"
    width:"200dp"
    size_hint_y:None
    size_hint_x:None

<Image>:
    canvas.before:
        Color:
            rgba:[1,1,1,1]
        Rectangle:
            size:self.size
            pos:self.pos